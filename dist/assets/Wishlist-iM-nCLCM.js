import{c as b,h as N,u as P,i as _,_ as l,j as s,L as p,g as z,s as C,d as k,e as A}from"./index-sqd7O1-E.js";import{r as I,c as x,d as D}from"./getPriceAfterDiscount-U5I_jDb8.js";import{C as S,n as h}from"./AppCard-fjmASEIO.js";import{C as E}from"./cross-JUfY8IV-.js";import{A as W}from"./AppProductsYouMightLike-OZJOiFgB.js";import{A as g}from"./AppEmpty-HSFsPp99.js";import{n as T}from"./nothing-6Rl4v_2G.js";import"./AppProductSlider-b7O3xLA8.js";const $="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='27'%20height='27'%20rx='13.5'%20fill='white'/%3e%3crect%20x='0.5'%20y='0.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='%23D9DDE1'/%3e%3cmask%20id='mask0_1171_3564'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='2'%20y='2'%20width='24'%20height='24'%3e%3crect%20x='2'%20y='2'%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1171_3564)'%3e%3cpath%20d='M10.4%2019.0004L9%2017.6004L12.6%2014.0004L9%2010.4254L10.4%209.02539L14%2012.6254L17.575%209.02539L18.975%2010.4254L15.375%2014.0004L18.975%2017.6004L17.575%2019.0004L14%2015.4004L10.4%2019.0004Z'%20fill='%23999999'/%3e%3c/g%3e%3c/svg%3e",q=({productId:t})=>{var d,u;const c=b(),r="  w-[300px]  max-xl:w-[280px] rounded-2xl bg-white p-6 border ",f="bg-grey/1 w-[25w  0px] h-[240px] max-xl:w-[230px] rounded-2xl my-2 p-8 flex justify-center items-center  ",j=N(),{data:e,isLoading:w,isError:v}=P({queryKey:["product",t],queryFn:()=>D(t)}),y=()=>{var m;const L=[...z("cartItems",[]).filter(o=>o.id!==e.product._id),{id:e.product._id,product:e.product._id,quantity:1,color:e.product.color,size:e.product.sizes[0].size,name:e.product.name,image:e.product.images[0].url,side:["Gloves","Leg Guard","Thigh Pad","Inner ThighPad","Arm Guard"].includes((m=e==null?void 0:e.product)==null?void 0:m.sub_category2)?e==null?void 0:e.product.sizes.filter(o=>o.size===(e==null?void 0:e.product.sizes[0].size)).map(o=>o.side)[0]:void 0,price:x(e==null?void 0:e.product.sizes[0].basePrice,e==null?void 0:e.product.sizes[0].discountedPercent),basePrice:e.product.sizes[0].basePrice}];C("cartItems",L),l.success(`Added ${e.product.name} to cart!`),c(k()),n(e.product._id)},{mutate:n,isPending:a}=_({mutationFn:i=>I(i),onSuccess:()=>{l.success(`Removed ${e.product.name} from wishlist!`),j.invalidateQueries({queryKey:["user"]})},onError:i=>{l.error(i)}});return w?s.jsx(S,{className:"h-full"}):v?null:s.jsxs("article",{className:`${r} card-shadow`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-Lato font-700 text-xs text-grey-light",children:"Java Sports"}),s.jsx("button",{disabled:a,onClick:()=>{n(e.product._id)},className:"cursor-pointer",children:a?s.jsx(E,{size:26,color:"#00B553"}):s.jsx("img",{src:$,alt:"Wishlist"})})]}),s.jsx(p,{to:`/product/${e.product._id}`,className:`${f} overflow-hidden group`,children:s.jsx("img",{src:((u=(d=e.product)==null?void 0:d.images[0])==null?void 0:u.url)||h,alt:e.product.name,onError:i=>i.currentTarget.src=h,className:"w-full h-full object-contain object-center group-hover:scale-105 transition-all"})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(p,{to:`/product/${e.product._id}`,className:"font-Lato font-700 text-[16px] hover:underline hover:text-blue transition-all",children:e.product.name.split(" ").slice(0,4).join(" ")}),s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("ul",{className:"flex  items-center gap-2",children:[s.jsx("li",{className:"font-Lato font-700 text-lg",children:s.jsxs("span",{children:["₹",x(e==null?void 0:e.product.sizes[0].basePrice,e==null?void 0:e.product.sizes[0].discountedPercent)]})}),s.jsx("li",{className:"font-Lato font-500 text-sm line-through",children:s.jsxs("span",{children:["₹",e.product.sizes[0].basePrice]})}),s.jsx("li",{className:"font-Lato font-700 text-[13px] text-green-400",children:s.jsxs("span",{children:[e.product.sizes[0].discountedPercent||0,"% off"]})})]})}),s.jsx("button",{onClick:y,className:"bg-primary/2 text-white font-500 text-lg  p-1 rounded",children:"Move to Cart"})]})]})},F="/assets/forgot-password-Ej7nusJ_.svg",O=()=>{const{user:t,isAuthenticated:c}=A(r=>r.user);return c?t.wishlist.length===0?s.jsx(g,{text:"Your wishlist is empty",img:T,btnText:"Continue Shopping",to:"/"}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"bg-white",children:s.jsxs("div",{className:"wrapper flex flex-col gap-4 pt-6",children:[s.jsxs("span",{className:"font-700 font-Lato text-2xl",children:["Wishlist- ",t.wishlist.length," items"]}),s.jsx("div",{className:" bg-white flex max-lg:justify-center pb-10",children:t.wishlist.length>0&&s.jsx("div",{className:"bg-white grid grid-cols-4 max-xl:grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1 gap-4 ",children:t.wishlist.map(r=>s.jsx(q,{productId:r.product},r._id))})})]})}),s.jsx("div",{className:"m-6"}),s.jsx(W,{})]})}):s.jsx(g,{btnText:"Login",text:"Please login to view your wishlist",to:"/login",img:F})};export{O as default};
