import{c as L,h as b,u as N,i as _,_ as c,j as e,L as d,g as C,s as P,d as k,e as z}from"./index-b-_rudxH.js";import{r as A,c as u,d as D}from"./getPriceAfterDiscount-Sx6R9LUK.js";import{C as I,n as m}from"./AppCard-ohdYU63q.js";import{C as S}from"./cross-rZil7XD9.js";import{A as E}from"./AppProductsYouMightLike-hey6wDfb.js";import{A as p}from"./AppEmpty-DX9to15l.js";import{n as W}from"./nothing-6Rl4v_2G.js";import"./AppProductSlider-OXvtvQUh.js";const $="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='27'%20height='27'%20rx='13.5'%20fill='white'/%3e%3crect%20x='0.5'%20y='0.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='%23D9DDE1'/%3e%3cmask%20id='mask0_1171_3564'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='2'%20y='2'%20width='24'%20height='24'%3e%3crect%20x='2'%20y='2'%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1171_3564)'%3e%3cpath%20d='M10.4%2019.0004L9%2017.6004L12.6%2014.0004L9%2010.4254L10.4%209.02539L14%2012.6254L17.575%209.02539L18.975%2010.4254L15.375%2014.0004L18.975%2017.6004L17.575%2019.0004L14%2015.4004L10.4%2019.0004Z'%20fill='%23999999'/%3e%3c/g%3e%3c/svg%3e",q=({productId:t})=>{var l,n;const o=L(),r="  w-[300px]  max-xl:w-[280px] rounded-2xl bg-white p-6 border ",x="bg-grey/1 w-[25w  0px] h-[240px] max-xl:w-[230px] rounded-2xl my-2 p-8 flex justify-center items-center  ",h=b(),{data:s,isLoading:g,isError:f}=N({queryKey:["product",t],queryFn:()=>D(t)}),j=()=>{const v=[...C("cartItems",[]).filter(y=>y.id!==s.product._id),{id:s.product._id,product:s.product._id,quantity:1,color:s.product.color,size:s.product.sizes[0].size,name:s.product.name,image:s.product.images[0].url,side:s.product.sub_category2==="Gloves"?"Left":void 0,price:u(s==null?void 0:s.product.sizes[0].basePrice,s==null?void 0:s.product.sizes[0].discountedPercent),basePrice:s.product.sizes[0].basePrice}];P("cartItems",v),c.success(`Added ${s.product.name} to cart!`),o(k())},{mutate:w,isPending:a}=_({mutationFn:i=>A(i),onSuccess:()=>{c.success(`Removed ${s.product.name} from wishlist!`),h.invalidateQueries({queryKey:["user"]})},onError:i=>{c.error(i)}});return g?e.jsx(I,{className:"h-full"}):f?null:e.jsxs("article",{className:`${r} card-shadow`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-Lato font-700 text-xs text-grey-light",children:"Java Sports"}),e.jsx("button",{disabled:a,onClick:()=>{w(s.product._id)},className:"cursor-pointer",children:a?e.jsx(S,{size:26,color:"#00B553"}):e.jsx("img",{src:$,alt:"Wishlist"})})]}),e.jsx(d,{to:`/product/${s.product._id}`,className:`${x} overflow-hidden group`,children:e.jsx("img",{src:((n=(l=s.product)==null?void 0:l.images[0])==null?void 0:n.url)||m,alt:s.product.name,onError:i=>i.currentTarget.src=m,className:"w-full h-full object-contain object-center group-hover:scale-105 transition-all"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(d,{to:`/product/${s.product._id}`,className:"font-Lato font-700 text-[16px] hover:underline hover:text-blue transition-all",children:s.product.name.split(" ").slice(0,4).join(" ")}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("ul",{className:"flex  items-center gap-2",children:[e.jsx("li",{className:"font-Lato font-700 text-lg",children:e.jsxs("span",{children:["₹",u(s==null?void 0:s.product.sizes[0].basePrice,s==null?void 0:s.product.sizes[0].discountedPercent)]})}),e.jsx("li",{className:"font-Lato font-500 text-sm line-through",children:e.jsxs("span",{children:["₹",s.product.sizes[0].basePrice]})}),e.jsx("li",{className:"font-Lato font-700 text-[13px] text-green-400",children:e.jsxs("span",{children:[s.product.sizes[0].discountedPercent||0,"% off"]})})]})}),e.jsx("button",{onClick:j,className:"bg-primary/2 text-white font-500 text-lg  p-1 rounded",children:"Move to Cart"})]})]})},F="/assets/forgot-password-Ej7nusJ_.svg",G=()=>{const{user:t,isAuthenticated:o}=z(r=>r.user);return o?t.wishlist.length===0?e.jsx(p,{text:"Your wishlist is empty",img:W,btnText:"Continue Shopping",to:"/"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"wrapper flex flex-col gap-4 pt-6",children:[e.jsxs("span",{className:"font-700 font-Lato text-2xl",children:["Wishlist- ",t.wishlist.length," items"]}),e.jsx("div",{className:" bg-white flex max-lg:justify-center pb-10",children:t.wishlist.length>0&&e.jsx("div",{className:"bg-white grid grid-cols-4 max-xl:grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1 gap-4 ",children:t.wishlist.map(r=>e.jsx(q,{productId:r.product},r._id))})})]})}),e.jsx("div",{className:"m-6"}),e.jsx(E,{})]})}):e.jsx(p,{btnText:"Login",text:"Please login to view your wishlist",to:"/login",img:F})};export{G as default};
